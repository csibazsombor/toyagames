<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>CIKOIN</title>
<link rel="shortcut icon" href="../../../favicon/favicon.ico" type="image/x-icon">
<style>
/* ====== Global reset ====== */
* { margin:0; padding:0; box-sizing:border-box; }
html, body { height:100%; }
:root{
  --inset-top: env(safe-area-inset-top, 0px);
  --inset-right: env(safe-area-inset-right, 0px);
  --inset-bottom: env(safe-area-inset-bottom, 0px);
  --inset-left: env(safe-area-inset-left, 0px);
}

/* ====== Base ====== */
body { 
  height:100%;
  overflow:hidden; 
  font-family:'Comic Sans MS','Chalkboard SE','Arial Rounded MT Bold',cursive;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  user-select: none;
  -webkit-user-select: none;
  touch-action: none;
}

/* Remove focus outlines */
button, input, select, textarea { outline: none; }

/* ====== Game Canvas ====== */
canvas {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  display:block;
  z-index: 1;
  pointer-events: auto;
}

/* ====== Shared UI Layer ====== */
#ui, #stamina, #controls, #gamepad, #stick, #jumpBtn, #inventory, #potionBtn, #loading-screen, #teamScore {
  position: relative;
  z-index: 10;
  user-select:none;
}

/* ====== Loading Screen ====== */
#loading-screen {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, #89cff0, #b19cff);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 18px;
  color: white;
  z-index: 9999999;
  transition: opacity 0.6s ease;
}

/* TEAM SCORE (Small + Center Top on all devices) */
#teamScore {
  position: fixed;
  top: calc(var(--inset-top) + 14px);
  left: 50%;
  transform: translateX(-50%);
  
  padding: 6px 16px;
  background: rgba(255, 255, 255, 0.22);
  border-radius: 12px;
  border: 2px solid rgba(255, 255, 255, 0.45);
  backdrop-filter: blur(10px);

  font-size: 18px;
  font-weight: 900;
  color: #ffffff;
  text-shadow: 0 0 8px rgba(255,255,255,0.5);

  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  z-index: 10000;
  pointer-events: none;
}

/* Optional: tiny gentle pulse, not too flashy */
#teamScore {
  animation: scorePulse 2s ease-in-out infinite alternate;
}
@keyframes scorePulse {
  from { filter: drop-shadow(0 0 4px rgba(255,255,255,0.3)); }
  to   { filter: drop-shadow(0 0 10px rgba(255,255,255,0.65)); }
}
/* Move Team Score slightly lower on mobile */
@media (max-width: 768px) {
  #teamScore {
    top: calc(var(--inset-top) + 48px); /* was 14px ‚Üí now lower */
    font-size: 17px;
    padding: 6px 14px;
  }
}


/* ====== Debug HUD (#ui) ====== */
#ui {
  position: fixed;
  top: calc(var(--inset-top) + 16px);
  left: calc(var(--inset-left) + 16px);
  color:#fff;
  text-shadow:0 3px 6px rgba(0,0,0,0.4);
  font-size:16px; font-weight:bold;
  padding:12px 18px;
  background:rgba(255,255,255,0.16);
  border-radius:16px;
  border:3px solid rgba(255,255,255,0.28);
  backdrop-filter:blur(10px);
  pointer-events:none;
}

/* ====== Stamina Bar ====== */
#stamina {
  position: fixed;
  width: 320px;
  height: 28px;
  left:50%; transform:translateX(-50%);
  bottom: calc(var(--inset-bottom) + 60px);
  background: rgba(255,255,255,0.2);
  border-radius: 20px;
  border: 3px solid rgba(255,255,255,0.55);
  backdrop-filter:blur(12px);
  overflow:hidden;
}
#staminaFill {
  height:100%;
  background: linear-gradient(90deg, #fbbf24, #f59e0b);
  transition: width 0.25s ease;
}

/* ====== Inventory Display ====== */
#inventory {
  position: fixed;
  bottom: calc(var(--inset-bottom) + 110px);
  left: 50%; transform: translateX(-50%);
  padding: 10px 18px;
  background: rgba(255,255,255,0.25);
  border-radius: 20px;
  border:3px solid rgba(255,255,255,0.6);
  backdrop-filter:blur(10px);
  font-size:20px;
  font-weight:bold;
  color:white;
  box-shadow:0 6px 18px rgba(0,0,0,0.25);
  pointer-events:none;
}

/* ====== Potion Button (Mobile) ====== */
#potionBtn {
  display:none;
  position: fixed;
  bottom: calc(var(--inset-bottom) + 140px);
  right: calc(var(--inset-right) + 20px);
  width:70px; height:70px;
  border-radius:50%;
  background:linear-gradient(135deg,#ff6b6b,#fa5252);
  border:3px solid rgba(255,255,255,0.7);
  color:white;
  font-size:26px; font-weight:900;
  backdrop-filter:blur(12px);
  box-shadow:0 8px 25px rgba(0,0,0,0.3);
}

/* ====== Desktop Controls Box ====== */
#controls {
  position:fixed;
  top: calc(var(--inset-top) + 16px);
  right: calc(var(--inset-right) + 16px);
  background:rgba(255,255,255,0.16);
  padding:18px;
  border-radius:18px;
  border:3px solid rgba(255,255,255,0.28);
  color:#fff;
  font-size:13px;
  pointer-events:none;
  backdrop-filter:blur(10px);
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
}
#controls h3 { color:#fbbf24; margin-bottom:10px; }

/* ====== Mobile Joystick ====== */
#gamepad {
  display:none;
  position:fixed;
  bottom: calc(var(--inset-bottom) + 24px);
  left: calc(var(--inset-left) + 22px);
  width:140px; height:140px;
  background:rgba(255,255,255,0.2);
  border-radius:50%;
  border:4px solid rgba(255,255,255,0.4);
  backdrop-filter:blur(10px);
  box-shadow:0 8px 25px rgba(0,0,0,0.3);
}
#stick {
  position:absolute; top:50%; left:50%;
  width:55px; height:55px;
  background:linear-gradient(135deg, #fbbf24, #f59e0b);
  border-radius:50%;
  border:4px solid rgba(255,255,255,0.8);
  transform:translate(-50%,-50%);
}

    img{
      border-radius: 15px;
      box-shadow: 0 10px 0px #c5d4f7;
    }
/* ====== Mobile Jump Button ====== */
#jumpBtn {
  display:none;
  position:fixed;
  bottom: calc(var(--inset-bottom) + 26px);
  right: calc(var(--inset-right) + 24px);
  width:80px; height:80px;
  background:linear-gradient(135deg,#ec4899,#8b5cf6);
  border-radius:50%;
  border:4px solid rgba(255,255,255,0.5);
  color:white;
  font-size:16px; font-weight:bold;
  backdrop-filter:blur(10px);
  box-shadow:0 8px 25px rgba(0,0,0,0.3);
}
#jumpBtn:active { transform:scale(0.9); }

/* ====== Soft Glow Animation ====== */
#ui, #teamScore, #stamina, #gamepad, #jumpBtn, #inventory, #potionBtn {
  animation: softGlow 3s ease-in-out infinite alternate;
}
@keyframes softGlow {
  from { filter: drop-shadow(0 0 0 rgba(255,255,255,0.28)); }
  to   { filter: drop-shadow(0 0 14px rgba(255,255,255,0.55)); }
}

/* ====== Mobile Layout Tweaks ====== */
@media (max-width:768px) {
  #stamina {
    top: calc(var(--inset-top) + 10px);
    bottom:auto;
    width:min(78vw,460px);
    height:22px;
  }
  #ui {
    top: calc(var(--inset-top) + 42px);
    left: calc(var(--inset-left) + 14px);
    font-size:15px;
    padding:10px 14px;
  }
  #gamepad { width:150px; height:150px; }
  #stick { width:60px; height:60px; }
}

</style>
</head>

<body>
<div id="loading-screen">
  <div class="loader-cat">
    <img src="../../../Screenshots/Screenshot_2.png" alt="loading cat">
  </div>
  <div id="loader-text">Loading...</div>
  <div id="loader-bar">
    <div id="loader-fill"></div>
  </div>
  <div id="loader-percent">0%</div>
</div>
</div>

<div id="adminPanel" style="
  position:absolute; top:20px; right:20px;
  background:#ffffffaa; padding:12px;
  border-radius:12px; display:none; z-index:2000;">
  <button id="spawnCoinBtn">Spawn Coin</button>
  <button id="boostBtn">Double Coins (20s)</button>
  <button id="msgBtn">Send Message</button>
</div>
<div id="announcement" style="
  position:absolute; top:50%; left:50%;
  transform:translate(-50%, -50%);
  background:#c7c7c7; color: black; padding:16px; border-radius:10px; display:none;">
</div>


    <div id="teamScore"></div>
    <button id="potionBtn">üçé</button>
    <div id="inventory"></div>

 
  <div id="stamina">
    <div id="staminaFill" style="width:100%"></div>
    <div id="staminaLabel">‚ö° ENERGY</div>
  </div>
  
  <div id="gamepad">
    <div id="stick"></div>
  </div>
  
  <div id="jumpBtn">JUMP</div>
  
  <div id="controls">
    <h3>üéÆ Controls</h3>
    <p><span class="key">WASD</span> Move</p>
    <p><span class="key">Sprint</span> Auto</p>
    <p><span class="key">Mouse</span> Camera</p>
    <p><span class="key">Space</span> Jump</p>
  </div>

<script type="importmap">
{
  "imports": {
    "three": "./three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
  }
}
</script>

<script type="module" src="./main.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js')
    .then(() => console.log('üî• Local caching active'))
    .catch(err => console.warn('SW registration failed:', err));
}
</script>
sw
</body>
</html>
